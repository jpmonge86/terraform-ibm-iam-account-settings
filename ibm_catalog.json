{
    "products": [
        {
            "features": [
                {
                    "description": "Multifactor authentication (None - Federated Users - All - Email/TOPT/U2F based)",
                    "title": "Multifactor authentication"
                },
                {
                    "description": "Restrict API key creation (on-off)\nRestrict service ID creation (on-off)",
                    "title": "Restrict API Key and Service IDs"
                },
                {
                    "description": "Session activity timeout (seconds)\nSession inactivity timeout (seconds)",
                    "title": "Session timeouts"
                },
                {
                    "description": "Access token expiration (seconds)\nRefresh token expiration (seconds)",
                    "title": "Token Expiration"
                },
                {
                    "description": "off/Any Allowed - on/Allow only specified IP subnets or IP addresses. \n\nTwo control modes are supported Monitor \u0026 Restrict",
                    "title": "Restrict IP address access"
                },
                {
                    "description": "Global shell settings (on-off)\nPublic access group (on-off)",
                    "title": "Miscellaneuous"
                }
            ],
            "flavors": [
                {
                    "architecture": {},
                    "compliance": {},
                    "configuration": [
                        {
                            "default_value": "3600",
                            "description": "Defines the access token expiration in seconds",
                            "key": "access_token_expiration",
                            "type": "string"
                        },
                        {
                            "default_value": "3600",
                            "description": "Specify how long (seconds) a user is allowed to work continuosly in the account",
                            "key": "active_session_timeout",
                            "type": "string"
                        },
                        {
                            "default_value": "[]",
                            "description": "Defines the IP addresses and subnets from which IAM tokens can be created for the account.",
                            "key": "allowed_ip_addresses",
                            "type": "array"
                        },
                        {
                            "default_value": "RESTRICTED",
                            "description": "When restriction is enabled, users in your account require specific access to create API keys, including the account owner",
                            "key": "api_creation",
                            "type": "string"
                        },
                        {
                            "default_value": "",
                            "description": "Specify a custom list of IPv4/IPv6 addresses/subnets that have access to the account, separate multiple values with a comma",
                            "key": "custom_allowed_ip_addresses",
                            "type": "string"
                        },
                        {
                            "default_value": true,
                            "description": "If true IP address restriction will be enforced, If false, traffic originated outside specified allowed IP address set is monitored with audit events sent to SIEM and Activity Tracker.   After running in monitored mode to test this variable should explicity be set to true to enfoce IP allow listing",
                            "key": "enforce_allowed_ip_addresses",
                            "type": "boolean"
                        },
                        {
                            "default_value": false,
                            "description": "If true IP address control will only be evaluate custom_allowed_ip_addresses, If false, restricion will be consider both IBM approved IP sets and custom_allowed_ip_addresses (if configured)",
                            "key": "ignore_ibm_approved_ip_addresses",
                            "type": "boolean"
                        },
                        {
                            "default_value": "900",
                            "description": "Specify how long (seconds) a user is allowed to stay logged in the account while being inactive/idle",
                            "key": "inactive_session_timeout",
                            "type": "string"
                        },
                        {
                            "default_value": "TOTP4ALL",
                            "description": "Specify Multi-Factor Authentication method in the account",
                            "key": "mfa",
                            "type": "string"
                        },
                        {
                            "default_value": false,
                            "description": "Enable/Disable public access group in which resources are open anyone regardless if they are member of your account or not",
                            "key": "public_access_enabled",
                            "type": "boolean"
                        },
                        {
                            "default_value": "259200",
                            "description": "Defines the refresh token expiration in seconds",
                            "key": "refresh_token_expiration",
                            "type": "string"
                        },
                        {
                            "default_value": "RESTRICTED",
                            "description": "When restriction is enabled, users in your account require specific access to create service IDs, including the account owner",
                            "key": "serviceid_creation",
                            "type": "string"
                        },
                        {
                            "default_value": false,
                            "description": "Enable global shell settings to all users in the account",
                            "key": "shell_settings_enabled",
                            "type": "boolean"
                        }
                    ],
                    "install_type": "fullstack",
                    "outputs": [
                        {
                            "description": "Current active session timeout",
                            "key": "account_iam_active_session_timeout"
                        },
                        {
                            "description": "Current state of public access group setting",
                            "key": "account_public_access"
                        },
                        {
                            "description": "Current refresh token expiration",
                            "key": "account_iam_refresh_token_expiration"
                        },
                        {
                            "description": "Current allowed IP addresses enforcement control mode, will indicate RESTRICT if account_allowed_ip_addresses_enforced is TRUE",
                            "key": "account_allowed_ip_addresses_control_mode"
                        },
                        {
                            "description": "Current access token expiration",
                            "key": "account_iam_access_token_expiration"
                        },
                        {
                            "description": "Ignore state of IBM approved IP addresses",
                            "key": "account_approved_ibm_ip_addresses_ignored"
                        },
                        {
                            "description": "Current inactive session timeout",
                            "key": "account_iam_inactive_session_timeout"
                        },
                        {
                            "description": "Current allowed IP addresses",
                            "key": "account_allowed_ip_addresses"
                        },
                        {
                            "description": "Current state of global shell setting",
                            "key": "account_shell_settings_status"
                        },
                        {
                            "description": "Current state of API key creation restriction",
                            "key": "account_iam_apikey_creation"
                        },
                        {
                            "description": "Current allowed IP addresses enforcement state",
                            "key": "account_allowed_ip_addresses_enforced"
                        },
                        {
                            "description": "Current MFA setting",
                            "key": "account_iam_mfa"
                        },
                        {
                            "description": "Current state of ServiceID creation restriction",
                            "key": "account_iam_serviceid_creation"
                        }
                    ],
                    "usage": ":exclamation: **Important:** Make sure that you set the `API_DATA_IS_SENSITIVE` environment variable to `true` to hide\nsensitive information before you run Terraform operations. For more information, see the generic REST API\nprovider [documentation](https://github.com/Mastercard/terraform-provider-restapi#usage):\n\nexport API_DATA_IS_SENSITIVE=true`\n\n##############################################################################\n# Config providers\n##############################################################################\n\ndata \"ibm_iam_auth_token\" \"tokendata\" {}\n\nprovider \"restapi\" {\n  uri                  = \"https:\"\n  write_returns_object = true\n  debug                = false # set to true to show detailed logs, but use carefully as it might print API key values.\n  headers              = {\n    Authorization = data.ibm_iam_auth_token.tokendata.iam_access_token\n    Content-Type  = \"application/json\"\n    if-Match      = \"*\"\n  }\n}\n\nprovider \"ibm\" {\n  ibmcloud_api_key = var.ibmcloud_api_key # pragma: allowlist secret\n}\n\n##############################################################################\n# Configure IAM Account settings\n##############################################################################\n\n# Replace \"master\" with a GIT release version to lock into a specific release\nmodule \"iam-account-settings\" {\n  source                       = \"git::https://github.com/terraform-ibm-modules/terraform-ibm-iam-account-settings?ref=main\"\n  allowed_ip_addresses         = var.allowed_ip_addresses\n  enforce_allowed_ip_addresses = true\n}"
                }
            ],
            "keywords": [
                "IaC",
                "infrastructure as code",
                "terraform",
                "solution",
                "iam",
                "account settings"
            ],
            "label": "Terraform IAM Account Settings Module",
            "long_description": "This module configures standard IAM account settings with the recommended values, in which the default values are aligned with FSCloud requirements, and exports the values as outputs.\n\nThe module supports creating and updating settings that are applied with the terraform apply command. With objects affected by the destroy command, the module preserves the most recent setting and doesn't change objects that are configured outside of Terraform's scope.",
            "name": "deploy-arch-ibm-account-settings",
            "offering_docs_url": "https://github.com/terraform-ibm-modules/terraform-iam-account-settings#readme",
            "offering_icon_url": "https://globalcatalog.cloud.ibm.com/api/v1/1082e7d2-5e2f-0a11-a3bc-f88a8e1931fc/artifacts/solution.svg",
            "product_kind": "solution",
            "provider_name": "IBM",
            "short_description": "Configures standard IAM parameters and account settings",
            "tags": [
                "dev_ops",
                "ibm_created"
            ],
            "version": "v2.0.0"
        }
    ]
}
